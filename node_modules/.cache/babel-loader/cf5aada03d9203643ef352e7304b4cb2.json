{"ast":null,"code":"import _classCallCheck from \"/Users/sanjaysai/Documents/Dev/web/Mod4/project/school-management-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sanjaysai/Documents/Dev/web/Mod4/project/school-management-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sanjaysai/Documents/Dev/web/Mod4/project/school-management-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sanjaysai/Documents/Dev/web/Mod4/project/school-management-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sanjaysai/Documents/Dev/web/Mod4/project/school-management-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sanjaysai/Documents/Dev/web/Mod4/project/school-management-frontend/src/components/BookingForm.js\";\nimport React, { Component } from 'react';\nimport dateFns from \"date-fns\";\n\nvar BookingForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BookingForm, _Component);\n\n  function BookingForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BookingForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BookingForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      fromTime: 360,\n      toTime: 360\n    };\n\n    _this.checkInputs = function () {\n      return;\n    };\n\n    _this.ifBooked = function (min) {\n      var timeBook = [];\n\n      var bookedHours = _this.props.roomSchedules.filter(function (sch) {\n        return dateFns.format(sch.date, 'YYYY-MM-DD') === dateFns.format(_this.props.selectedDate, 'YYYY-MM-DD');\n      });\n\n      bookedHours.forEach(function (sch) {\n        var bookedStartTime = (dateFns.getHours(sch.start_time) + 5) * 60 + dateFns.getMinutes(sch.start_time);\n        var bookedEndTime = (dateFns.getHours(sch.end_time) + 5) * 60 + dateFns.getMinutes(sch.end_time);\n        timeBook.push([bookedStartTime, bookedEndTime]);\n      });\n\n      for (var _i = 0; _i < timeBook.length; _i++) {\n        var hours = timeBook[_i];\n\n        if (min >= hours[0] && min < hours[1]) {\n          return 'disabled';\n        }\n      }\n    };\n\n    _this.checkModSchedule = function (modId) {\n      console.log(modId);\n      var schedulesOnOtherRooms = [];\n\n      _this.props.schedules.forEach(function (room) {\n        if (room.id !== _this.props.roomSchedules[0].lecture_room_id) {\n          room.lecture_schedules.forEach(function (sch) {\n            if (dateFns.format(sch.date, 'YYYY-MM-DD') === dateFns.format(_this.props.selectedDate, 'YYYY-MM-DD') && sch.mod_id === modId) {\n              schedulesOnOtherRooms.push(sch);\n            }\n          });\n        }\n      });\n\n      for (var _i2 = 0; _i2 < schedulesOnOtherRooms.length; _i2++) {\n        var sch = schedulesOnOtherRooms[_i2];\n        // schedulesOnOtherRooms.forEach(sch=>{\n        var bookedStartTime = (dateFns.getHours(sch.start_time) + 5) * 60 + dateFns.getMinutes(sch.start_time);\n        console.log('bookedStartTime', bookedStartTime);\n        console.log('fromTime', _this.state.fromTime);\n        console.log('type of fromTime', typeof _this.state.fromTime);\n        console.log('type of bookedStartTime', typeof bookedStartTime);\n\n        if (bookedStartTime == _this.state.fromTime) {\n          return 'disabled';\n        }\n      }\n\n      console.log('room id', _this.props.roomSchedules[0].lecture_room_id);\n      console.log('bookedHours', schedulesOnOtherRooms);\n    };\n\n    _this.populateSelectBox = function (min) {\n      var hours, minutes, ampm;\n      hours = Math.floor(min / 60);\n      minutes = min % 60;\n\n      if (minutes < 10) {\n        minutes = '0' + minutes; // adding leading zero\n      }\n\n      ampm = hours % 24 < 12 ? 'AM' : 'PM';\n      hours = hours % 12;\n\n      if (hours === 0) {\n        hours = 12;\n      }\n\n      return hours + ':' + minutes + ' ' + ampm;\n    };\n\n    _this.range = function (mins) {\n      var array = []; // const startingMin=this.state.startTime+15\n\n      for (var i = mins; i <= 1320; i += 15) {\n        array.push(i);\n      }\n\n      return array;\n    };\n\n    return _this;\n  }\n\n  _createClass(BookingForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('toTime', this.state.fromTime);\n      return React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          _this2.props.onBookItHandler(e, _this2.props.lectureRoomName);\n\n          _this2.props.toggleBooking();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Start time\"), React.createElement(\"select\", {\n        name: \"start_time\",\n        onChange: function onChange(e) {\n          _this2.props.onChangeBookForm(e);\n\n          _this2.setState({\n            fromTime: e.target.value,\n            toTime: Number(e.target.value) + 15\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"From\"), this.range(this.state.fromTime).map(function (minute) {\n        return React.createElement(\"option\", {\n          key: minute,\n          value: minute,\n          disabled: _this2.ifBooked(minute),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, _this2.populateSelectBox(minute));\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"End time\"), React.createElement(\"select\", {\n        name: \"end_time\",\n        onChange: function onChange(e) {\n          return _this2.props.onChangeBookForm(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"To\"), this.range(this.state.toTime).map(function (minute) {\n        return React.createElement(\"option\", {\n          key: minute,\n          value: minute,\n          disabled: _this2.ifBooked(minute),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, _this2.populateSelectBox(minute));\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Event Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"event\",\n        placeholder: \"enter event name\",\n        value: this.props.event,\n        onChange: function onChange(e) {\n          return _this2.props.onChangeBookForm(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Mod Group\"), React.createElement(\"select\", {\n        onChange: function onChange(e) {\n          _this2.props.onChangeModSelectionHandler(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Choose Mod\"), this.props.allMods.map(function (mod) {\n        return React.createElement(\"option\", {\n          key: mod.id,\n          value: mod.id,\n          disabled: _this2.checkModSchedule(mod.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, mod.name);\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Book It!\",\n        disabled: this.checkInputs(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.props.onCancelBookHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Cancel\"));\n    }\n  }]);\n\n  return BookingForm;\n}(Component);\n\nexport default BookingForm;","map":{"version":3,"sources":["/Users/sanjaysai/Documents/Dev/web/Mod4/project/school-management-frontend/src/components/BookingForm.js"],"names":["React","Component","dateFns","BookingForm","state","fromTime","toTime","checkInputs","ifBooked","min","timeBook","bookedHours","props","roomSchedules","filter","sch","format","date","selectedDate","forEach","bookedStartTime","getHours","start_time","getMinutes","bookedEndTime","end_time","push","hours","checkModSchedule","modId","console","log","schedulesOnOtherRooms","schedules","room","id","lecture_room_id","lecture_schedules","mod_id","populateSelectBox","minutes","ampm","Math","floor","range","mins","array","i","e","onBookItHandler","lectureRoomName","toggleBooking","onChangeBookForm","setState","target","value","Number","map","minute","event","onChangeModSelectionHandler","allMods","mod","name","onCancelBookHandler"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,UAApB;;IAGMC,W;;;;;;;;;;;;;;;;;UAEFC,K,GAAM;AACFC,MAAAA,QAAQ,EAAC,GADP;AAEFC,MAAAA,MAAM,EAAC;AAFL,K;;UAKNC,W,GAAY,YAAM;AACd;AACH,K;;UAEDC,Q,GAAS,UAACC,GAAD,EAAS;AACd,UAAIC,QAAQ,GAAC,EAAb;;AACA,UAAMC,WAAW,GAAC,MAAKC,KAAL,CAAWC,aAAX,CAAyBC,MAAzB,CAAgC,UAAAC,GAAG,EAAE;AACnD,eAAOb,OAAO,CAACc,MAAR,CAAeD,GAAG,CAACE,IAAnB,EAAyB,YAAzB,MAAyCf,OAAO,CAACc,MAAR,CAAe,MAAKJ,KAAL,CAAWM,YAA1B,EAAwC,YAAxC,CAAhD;AAEH,OAHiB,CAAlB;;AAIAP,MAAAA,WAAW,CAACQ,OAAZ,CAAoB,UAAAJ,GAAG,EAAE;AACrB,YAAIK,eAAe,GAAI,CAAClB,OAAO,CAACmB,QAAR,CAAiBN,GAAG,CAACO,UAArB,IAAiC,CAAlC,IAAqC,EAAtC,GAA2CpB,OAAO,CAACqB,UAAR,CAAmBR,GAAG,CAACO,UAAvB,CAAjE;AACA,YAAIE,aAAa,GAAE,CAACtB,OAAO,CAACmB,QAAR,CAAiBN,GAAG,CAACU,QAArB,IAA+B,CAAhC,IAAmC,EAApC,GAAyCvB,OAAO,CAACqB,UAAR,CAAmBR,GAAG,CAACU,QAAvB,CAA3D;AACAf,QAAAA,QAAQ,CAACgB,IAAT,CAAc,CAACN,eAAD,EAAkBI,aAAlB,CAAd;AACH,OAJD;;AAMA,4BAAiBd,QAAjB,eAA0B;AAAtB,YAAIiB,KAAK,GAAIjB,QAAJ,IAAT;;AACA,YAAID,GAAG,IAAEkB,KAAK,CAAC,CAAD,CAAV,IAAiBlB,GAAG,GAAEkB,KAAK,CAAC,CAAD,CAA/B,EAAmC;AAC/B,iBAAO,UAAP;AACH;AACL;AAEH,K;;UAIDC,gB,GAAiB,UAACC,KAAD,EAAW;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,UAAIG,qBAAqB,GAAC,EAA1B;;AACA,YAAKpB,KAAL,CAAWqB,SAAX,CAAqBd,OAArB,CAA6B,UAAAe,IAAI,EAAE;AAC/B,YAAGA,IAAI,CAACC,EAAL,KAAU,MAAKvB,KAAL,CAAWC,aAAX,CAAyB,CAAzB,EAA4BuB,eAAzC,EAAyD;AACrDF,UAAAA,IAAI,CAACG,iBAAL,CAAuBlB,OAAvB,CAA+B,UAAAJ,GAAG,EAAE;AAChC,gBAAKb,OAAO,CAACc,MAAR,CAAeD,GAAG,CAACE,IAAnB,EAAyB,YAAzB,MAAyCf,OAAO,CAACc,MAAR,CAAe,MAAKJ,KAAL,CAAWM,YAA1B,EAAwC,YAAxC,CAA1C,IAAqGH,GAAG,CAACuB,MAAJ,KAAaT,KAAtH,EAA6H;AACzHG,cAAAA,qBAAqB,CAACN,IAAtB,CAA2BX,GAA3B;AACH;AACJ,WAJD;AAKH;AACJ,OARD;;AAUA,8BAAeiB,qBAAf,gBAAqC;AAAjC,YAAIjB,GAAG,GAAIiB,qBAAJ,KAAP;AACJ;AACI,YAAIZ,eAAe,GAAI,CAAClB,OAAO,CAACmB,QAAR,CAAiBN,GAAG,CAACO,UAArB,IAAiC,CAAlC,IAAqC,EAAtC,GAA2CpB,OAAO,CAACqB,UAAR,CAAmBR,GAAG,CAACO,UAAvB,CAAjE;AACAQ,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BX,eAA/B;AACAU,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,MAAK3B,KAAL,CAAWC,QAAnC;AACAyB,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC,OAAO,MAAK3B,KAAL,CAAWC,QAAlD;AACAyB,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,OAAOX,eAA9C;;AAEA,YAAGA,eAAe,IAAE,MAAKhB,KAAL,CAAWC,QAA/B,EAAwC;AACpC,iBAAO,UAAP;AACH;AACJ;;AACDyB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,MAAKnB,KAAL,CAAWC,aAAX,CAAyB,CAAzB,EAA4BuB,eAAlD;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BC,qBAA1B;AACH,K;;UAEDO,iB,GAAkB,UAAC9B,GAAD,EAAS;AACvB,UAAIkB,KAAJ,EAAWa,OAAX,EAAoBC,IAApB;AACId,MAAAA,KAAK,GAAGe,IAAI,CAACC,KAAL,CAAWlC,GAAG,GAAG,EAAjB,CAAR;AACA+B,MAAAA,OAAO,GAAG/B,GAAG,GAAG,EAAhB;;AACA,UAAI+B,OAAO,GAAG,EAAd,EAAiB;AACbA,QAAAA,OAAO,GAAG,MAAMA,OAAhB,CADa,CACY;AAC5B;;AACDC,MAAAA,IAAI,GAAGd,KAAK,GAAG,EAAR,GAAa,EAAb,GAAkB,IAAlB,GAAyB,IAAhC;AACAA,MAAAA,KAAK,GAAGA,KAAK,GAAG,EAAhB;;AACA,UAAIA,KAAK,KAAK,CAAd,EAAgB;AACZA,QAAAA,KAAK,GAAG,EAAR;AACH;;AAED,aAAOA,KAAK,GAAC,GAAN,GAAUa,OAAV,GAAkB,GAAlB,GAAsBC,IAA7B;AACP,K;;UAEDG,K,GAAM,UAACC,IAAD,EAAU;AACZ,UAAMC,KAAK,GAAC,EAAZ,CADY,CAEZ;;AACA,WAAI,IAAIC,CAAC,GAAGF,IAAZ,EAAkBE,CAAC,IAAI,IAAvB,EAA6BA,CAAC,IAAI,EAAlC,EAAqC;AACjCD,QAAAA,KAAK,CAACpB,IAAN,CAAWqB,CAAX;AACH;;AACD,aAAOD,KAAP;AACH,K;;;;;;;6BAEO;AAAA;;AACJhB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqB,KAAK3B,KAAL,CAAWC,QAAhC;AACA,aACI;AAAM,QAAA,QAAQ,EAAE,kBAAC2C,CAAD,EAAK;AAAC,UAAA,MAAI,CAACpC,KAAL,CAAWqC,eAAX,CAA2BD,CAA3B,EAA8B,MAAI,CAACpC,KAAL,CAAWsC,eAAzC;;AACN,UAAA,MAAI,CAACtC,KAAL,CAAWuC,aAAX;AAA4B,SAD5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,EAGI;AAAQ,QAAA,IAAI,EAAC,YAAb;AAA0B,QAAA,QAAQ,EAAE,kBAACH,CAAD,EAAK;AACrC,UAAA,MAAI,CAACpC,KAAL,CAAWwC,gBAAX,CAA4BJ,CAA5B;;AACA,UAAA,MAAI,CAACK,QAAL,CAAc;AAAChD,YAAAA,QAAQ,EAAC2C,CAAC,CAACM,MAAF,CAASC,KAAnB;AAA0BjD,YAAAA,MAAM,EAACkD,MAAM,CAACR,CAAC,CAACM,MAAF,CAASC,KAAV,CAAN,GAAuB;AAAxD,WAAd;AAA4E,SAFhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,EAMK,KAAKX,KAAL,CAAW,KAAKxC,KAAL,CAAWC,QAAtB,EAAgCoD,GAAhC,CAAoC,UAAAC,MAAM;AAAA,eAAE;AAAQ,UAAA,GAAG,EAAEA,MAAb;AAAqB,UAAA,KAAK,EAAEA,MAA5B;AAAoC,UAAA,QAAQ,EAAE,MAAI,CAAClD,QAAL,CAAckD,MAAd,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACxC,MAAI,CAACnB,iBAAL,CAAuBmB,MAAvB,CADwC,CAAF;AAAA,OAA1C,CANL,CAHJ,EAcI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdJ,EAeI;AAAQ,QAAA,IAAI,EAAC,UAAb;AAAwB,QAAA,QAAQ,EAAE,kBAACV,CAAD;AAAA,iBAAK,MAAI,CAACpC,KAAL,CAAWwC,gBAAX,CAA4BJ,CAA5B,CAAL;AAAA,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEK,KAAKJ,KAAL,CAAW,KAAKxC,KAAL,CAAWE,MAAtB,EAA8BmD,GAA9B,CAAkC,UAAAC,MAAM;AAAA,eAAE;AAAQ,UAAA,GAAG,EAAEA,MAAb;AAAqB,UAAA,KAAK,EAAEA,MAA5B;AAAoC,UAAA,QAAQ,EAAE,MAAI,CAAClD,QAAL,CAAckD,MAAd,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACtC,MAAI,CAACnB,iBAAL,CAAuBmB,MAAvB,CADsC,CAAF;AAAA,OAAxC,CAFL,CAfJ,EAsBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAtBJ,EAuBI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,WAAW,EAAC,kBAA5C;AAA+D,QAAA,KAAK,EAAE,KAAK9C,KAAL,CAAW+C,KAAjF;AACI,QAAA,QAAQ,EAAE,kBAACX,CAAD;AAAA,iBAAK,MAAI,CAACpC,KAAL,CAAWwC,gBAAX,CAA4BJ,CAA5B,CAAL;AAAA,SADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvBJ,EA0BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA1BJ,EA2BI;AAAQ,QAAA,QAAQ,EAAE,kBAACA,CAAD,EAAK;AAAC,UAAA,MAAI,CAACpC,KAAL,CAAWgD,2BAAX,CAAuCZ,CAAvC;AAA0C,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEK,KAAKpC,KAAL,CAAWiD,OAAX,CAAmBJ,GAAnB,CAAuB,UAAAK,GAAG;AAAA,eACvB;AAAQ,UAAA,GAAG,EAAEA,GAAG,CAAC3B,EAAjB;AAAqB,UAAA,KAAK,EAAE2B,GAAG,CAAC3B,EAAhC;AAAoC,UAAA,QAAQ,EAAE,MAAI,CAACP,gBAAL,CAAsBkC,GAAG,CAAC3B,EAA1B,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA8E2B,GAAG,CAACC,IAAlF,CADuB;AAAA,OAA1B,CAFL,CA3BJ,EAiCI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,UAA3B;AAAsC,QAAA,QAAQ,EAAE,KAAKxD,WAAL,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjCJ,EAkCI;AAAQ,QAAA,OAAO,EAAE,KAAKK,KAAL,CAAWoD,mBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAlCJ,CADJ;AAsCH;;;;EA/HqB/D,S;;AAkI1B,eAAeE,WAAf","sourcesContent":["import React, {Component} from 'react';\nimport dateFns from \"date-fns\";\n\n\nclass BookingForm extends Component{\n\n    state={\n        fromTime:360,\n        toTime:360\n    }\n\n    checkInputs=() => {\n        return\n    }\n\n    ifBooked=(min) => {\n        let timeBook=[];\n        const bookedHours=this.props.roomSchedules.filter(sch=>{\n            return dateFns.format(sch.date, 'YYYY-MM-DD')===dateFns.format(this.props.selectedDate, 'YYYY-MM-DD')\n\n        })\n        bookedHours.forEach(sch=>{\n            let bookedStartTime = ((dateFns.getHours(sch.start_time)+5)*60)+(dateFns.getMinutes(sch.start_time));\n            let bookedEndTime=((dateFns.getHours(sch.end_time)+5)*60)+(dateFns.getMinutes(sch.end_time));\n            timeBook.push([bookedStartTime, bookedEndTime])\n        })\n\n        for(let hours of timeBook){\n            if (min>=hours[0] && min <hours[1]){\n                return 'disabled';\n            }\n       }\n\n    }\n\n    //check if same mod is scheduled  for same time in different rooms\n\n    checkModSchedule=(modId) => {\n        console.log(modId);\n        let schedulesOnOtherRooms=[];\n        this.props.schedules.forEach(room=>{\n            if(room.id!==this.props.roomSchedules[0].lecture_room_id){\n                room.lecture_schedules.forEach(sch=>{\n                    if ((dateFns.format(sch.date, 'YYYY-MM-DD')===dateFns.format(this.props.selectedDate, 'YYYY-MM-DD')) && (sch.mod_id===modId)){     \n                        schedulesOnOtherRooms.push(sch)\n                    }\n                })\n            }\n        })\n\n        for(let sch of schedulesOnOtherRooms){\n        // schedulesOnOtherRooms.forEach(sch=>{\n            let bookedStartTime = ((dateFns.getHours(sch.start_time)+5)*60)+(dateFns.getMinutes(sch.start_time));\n            console.log('bookedStartTime', bookedStartTime);\n            console.log('fromTime', this.state.fromTime);\n            console.log('type of fromTime', typeof(this.state.fromTime));\n            console.log('type of bookedStartTime', typeof(bookedStartTime));\n\n            if(bookedStartTime==this.state.fromTime){\n                return 'disabled';\n            }\n        }\n        console.log('room id',this.props.roomSchedules[0].lecture_room_id);\n        console.log('bookedHours',schedulesOnOtherRooms);\n    }\n\n    populateSelectBox=(min) => {\n        let hours, minutes, ampm;\n            hours = Math.floor(min / 60);\n            minutes = min % 60;\n            if (minutes < 10){\n                minutes = '0' + minutes; // adding leading zero\n            }\n            ampm = hours % 24 < 12 ? 'AM' : 'PM';\n            hours = hours % 12;\n            if (hours === 0){\n                hours = 12;\n            }\n            \n            return hours+':'+minutes+' '+ampm;\n    }\n    \n    range=(mins) => {\n        const array=[];\n        // const startingMin=this.state.startTime+15\n        for(let i = mins; i <= 1320; i += 15){\n            array.push(i);\n        }\n        return array;\n    }\n\n    render(){\n        console.log('toTime',this.state.fromTime);\n        return ( \n            <form onSubmit={(e)=>{this.props.onBookItHandler(e, this.props.lectureRoomName);\n                            this.props.toggleBooking();}}>\n                <label>Start time</label>\n                <select name='start_time' onChange={(e)=>{\n                    this.props.onChangeBookForm(e);\n                    this.setState({fromTime:e.target.value, toTime:Number(e.target.value)+15});}}>\n                    {/* onClick={this.blockBookedTime}> */}\n                    \n                    <option>From</option>\n                    {this.range(this.state.fromTime).map(minute=><option key={minute} value={minute} disabled={this.ifBooked(minute)}>\n                        {this.populateSelectBox(minute)}\n                    </option>)}\n                </select>\n\n                <label>End time</label>\n                <select name='end_time' onChange={(e)=>this.props.onChangeBookForm(e)}>\n                    <option>To</option>\n                    {this.range(this.state.toTime).map(minute=><option key={minute} value={minute} disabled={this.ifBooked(minute)}>\n                        {this.populateSelectBox(minute)} \n                    </option>)}\n                </select>\n\n                <label>Event Name</label>\n                <input type='text' name='event' placeholder='enter event name' value={this.props.event}\n                    onChange={(e)=>this.props.onChangeBookForm(e)}></input>\n                \n                <label>Mod Group</label>\n                <select onChange={(e)=>{this.props.onChangeModSelectionHandler(e)}}>\n                    <option>Choose Mod</option>\n                    {this.props.allMods.map(mod=>\n                        <option key={mod.id} value={mod.id} disabled={this.checkModSchedule(mod.id)}>{mod.name}</option>)}\n                </select>\n\n                <input type='submit' value='Book It!' disabled={this.checkInputs()}/>\n                <button onClick={this.props.onCancelBookHandler}>Cancel</button>\n            </form>\n        );\n    }\n}\n \nexport default BookingForm;"]},"metadata":{},"sourceType":"module"}